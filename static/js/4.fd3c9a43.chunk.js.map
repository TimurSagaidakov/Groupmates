{"version":3,"sources":["users/oneUser/oneUser.module.css","users/users.module.css","paginator/paginator.module.css","users/oneUser/oneUser.js","users/oneUser/oneUserContainer.js","paginator/paginator.js","users/users.js","redux/selectors/users-selector.js","redux/selectors/auth-selector.js","users/usersContainer.js"],"names":["module","exports","OneUser","id","avatar","name","followed","following","UnfollowFunc","FollowFunc","className","s","container","to","src","alt","info","contry","phone","button","some","iD","function","OneUserContainer","props","followUser","UnfollowUser","this","key","country","uniqueUrlName","React","Component","connect","state","users","usersList","Paginator","usersTotalCount","usersOnPages","currentPage","switchPages","portionSize","usersTotalPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","pagination__arrow","onClick","icon","faArrowLeft","filter","p","map","pagination__item","pagination__item_active","e","faArrowRight","Users","u","photos","small","defaultAvatar","getUsersSelector","getTotalCount","isFetching","isAuth","auth","UsersContainer","pageNumber","getUsers","SetCurrentPage","compose","withAuthRedirect"],"mappings":"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","file":"static/js/4.fd3c9a43.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"oneUser_container__1m80S\",\"avatar\":\"oneUser_avatar__1RyPu\",\"button\":\"oneUser_button__-q8mK\",\"info\":\"oneUser_info__1drqH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"users_button__1R0_4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"paginator_pagination__3DrkC\",\"pagination__item\":\"paginator_pagination__item__2IrE7\",\"pagination__arrow\":\"paginator_pagination__arrow__1uImZ\",\"pagination__item_active\":\"paginator_pagination__item_active__22N4t\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Button from '../../button/button';\r\nimport s from'./oneUser.module.css'\r\n\r\nconst OneUser = ({id,avatar,name,followed,following,UnfollowFunc,FollowFunc}) =>{\r\n    return( \r\n      <div className={s.container}>\r\n        <NavLink to={'/profile/' + id} className={s.avatar}>\r\n          <img src={avatar} alt=\"\"/>\r\n        </NavLink>\r\n        <div className={s.info}>\r\n          <div className={s.name}>\r\n            {name}\r\n          </div>\r\n          <div className={s.contry}>\r\n            {'country'}\r\n          </div>\r\n          <div className={s.phone}>\r\n            {'phone'}\r\n          </div>\r\n        </div>\r\n        <div className={s.button}>\r\n          {followed ? \r\n            (following.some(iD => iD === id) // Проверяем при нажатии совпадает ли id пользователя \r\n            ? \r\n            <Button name=\"Подождите\" />\r\n            :\r\n            <Button function={UnfollowFunc} name=\"Отписаться\" /> \r\n            )\r\n          :\r\n          (following.some(iD => iD === id) \r\n            ? \r\n            <Button name=\"Подождите\" />\r\n            :\r\n            <Button function={FollowFunc} name=\"Подписаться\" /> \r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default OneUser;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {followUser, UnfollowUser} from './../../redux/usersReducer';\r\nimport OneUser from './oneUser';\r\n\r\nclass OneUserContainer extends React.Component{\r\n  FollowFunc =()=>{\r\n    this.props.followUser(this.props.id)\r\n  }\r\n  UnfollowFunc =()=>{\r\n    this.props.UnfollowUser(this.props.id)\r\n  }\r\n  render() { \r\n    return <OneUser avatar={this.props.avatar}\r\n                    name={this.props.name}\r\n                    id={this.props.id}\r\n                    key={this.props.id}\r\n                    country={this.props.country}\r\n                    phone={this.props.phone}\r\n                    uniqueUrlName={this.props.uniqueUrlName}\r\n                    followed={this.props.followed}\r\n                    FollowFunc={this.FollowFunc}\r\n                    UnfollowFunc={this.UnfollowFunc}\r\n                    {...this.props}/> }\r\n  }\r\n\r\nlet mapStateToProps =(state)=>{\r\n  return{\r\n    users: state.usersList.users,\r\n    following: state.usersList.following\r\n  } \r\n};\r\n\r\nexport default connect(mapStateToProps,{UnfollowUser,followUser})(OneUserContainer)\r\n","import React, { useState } from 'react';\r\nimport s from'./paginator.module.css';\r\nimport {faArrowRight, faArrowLeft} from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nconst Paginator = ({usersTotalCount,usersOnPages,currentPage,switchPages,portionSize}) => {\r\n  let usersTotalPages = Math.ceil(usersTotalCount / usersOnPages);/* Количество страниц пользователей */\r\nlet pages = [];\r\nfor (let i = 1; i<= usersTotalPages; i++){\r\n  pages.push(i);\r\n}\r\n\r\nlet portionCount = Math.ceil(usersTotalPages/portionSize) // Количество страниц в порции\r\nconst [portionNumber , setPortionNumber] = useState(1) //номер порции\r\nlet leftPortionPageNumber = (portionNumber - 1 ) * portionSize + 1 // крайняя левая страница в порции\r\nlet rightPortionPageNumber = portionNumber*portionSize // крайняя правая страница в порции\r\n\r\nreturn <div className={s.pagination}>\r\n          {portionNumber > 1 &&\r\n          <div className={s.pagination__arrow} onClick = { () => {setPortionNumber(portionNumber-1)}}>  \r\n            <FontAwesomeIcon icon={faArrowLeft}/> </div>}\r\n          {pages\r\n          .filter(p=> p >= leftPortionPageNumber && p<= rightPortionPageNumber) // фильтруем страницы между левой крайне и правой крайней\r\n          .map( (p)=> { \r\n            return <div key={p} className={`${s.pagination__item} ${currentPage === p && s.pagination__item_active}`} onClick={(e)=>{switchPages(p)}}>\r\n            {p}\r\n          </div>\r\n            })}\r\n            {portionNumber < portionCount && <div className={s.pagination__arrow} onClick = { () => {setPortionNumber(portionNumber+1)}}> \r\n            <FontAwesomeIcon icon={faArrowRight}/> </div>}\r\n        </div>\r\n}\r\nexport default Paginator;","import React from 'react';\r\nimport OneUserContainer from './oneUser/oneUserContainer';\r\nimport defaultAvatar from './../assets/img/defaultAvatar.jpeg';\r\nimport s from'./users.module.css';\r\nimport Paginator from '../paginator/paginator';\r\nconst Users = ({usersTotalCount,usersOnPages,currentPage,users,switchPages}) => {\r\n\r\nreturn(\r\n      <div className={s.container}>\r\n        <Paginator  usersTotalCount={usersTotalCount} \r\n                    usersOnPages={usersOnPages} \r\n                    currentPage={currentPage}\r\n                    switchPages={switchPages} \r\n                    portionSize={10}/>\r\n        {users.map(u => <OneUserContainer avatar={u.photos.small != null ? u.photos.small: defaultAvatar} name={u.name} id={u.id} key={u.id} country={u.country} phone={u.phone} uniqueUrlName={u.uniqueUrlName} followed={u.followed} />)}\r\n      </div>\r\n    );\r\n}\r\nexport default Users;","\r\nexport const getUsersSelector = (state )=>{ //Создаем селектор для HOC библиотеки reselect\r\n  return state.usersList.users \r\n}\r\n\r\n\r\nexport const getTotalCount = (state) => {\r\n  return state.usersList.usersTotalCount\r\n}\r\n\r\nexport const usersOnPages = (state) => {\r\n  return state.usersList.usersOnPages\r\n}\r\n\r\nexport const currentPage = (state) => {\r\n  return state.usersList.currentPage\r\n}\r\nexport const isFetching = (state) => {\r\n  return state.usersList.isFetching\r\n}\r\n\r\n","export const isAuth = (state) => {\r\n  return state.auth.isAuth\r\n}","import {connect} from 'react-redux';\r\nimport {SetCurrentPage,getUsers} from './../redux/usersReducer';\r\nimport Users from './users';\r\nimport React from 'react';\r\nimport Loader from '../loader/loader';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getTotalCount,getUsersSelector,usersOnPages,currentPage,isFetching } from '../redux/selectors/users-selector';\r\nimport { isAuth } from '../redux/selectors/auth-selector';\r\n\r\nclass UsersContainer extends React.Component{\r\n  componentDidMount(){\r\n    let {currentPage,usersOnPages,getUsers} = this.props\r\n    getUsers(currentPage,usersOnPages)\r\n  };\r\n  switchPages = (pageNumber) =>{\r\n    let {usersOnPages,getUsers,SetCurrentPage} = this.props\r\n    getUsers(pageNumber,usersOnPages)\r\n    SetCurrentPage(pageNumber)\r\n  }\r\n  render() { \r\n    let {isFetching,usersTotalCount,usersOnPages,currentPage,users} = this.props\r\n    /*if(isFetching){\r\n      return <Loader/>\r\n    } */\r\n    return <>\r\n      <Users  usersTotalCount={usersTotalCount} \r\n              usersOnPages={usersOnPages} \r\n              currentPage={currentPage} \r\n              switchPages={this.switchPages} \r\n              users={users}\r\n              {...this.props}/> \r\n      </>\r\n          \r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps =(state)=>{\r\n  return{\r\n    users: getUsersSelector(state), //селектор полученный из библиотеки reselect\r\n    usersTotalCount: getTotalCount(state), /* Всего пользователей*/ \r\n    usersOnPages: usersOnPages(state), /* Пользователей на одной странице*/\r\n    currentPage: currentPage(state), /*Текущая страница */\r\n    isFetching: isFetching(state), /* Loader */\r\n    isAuth: isAuth(state)\r\n  } \r\n}\r\n\r\nexport default compose(connect(mapStateToProps,{SetCurrentPage,getUsers}), //      ^\r\n                      withAuthRedirect                                     //      |\r\n                      )(UsersContainer)                                   // UsersContainer"],"sourceRoot":""}